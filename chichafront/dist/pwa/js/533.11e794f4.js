"use strict";(self["webpackChunkChicheria"]=self["webpackChunkChicheria"]||[]).push([[533],{51533:(e,a,o)=>{o.r(a),o.d(a,{default:()=>ue});var t=o(83673),l=o(62323),i=o(98880);const s=(0,t.HX)("data-v-a4099da8");(0,t.dD)("data-v-a4099da8");const n={class:"row"},r={class:"col-12"},d=(0,t.Uk)("Lista Adelantos"),c=(0,t.Wm)("div",{class:"col-12"},[(0,t.Wm)("div",{class:"text-subtitle1 bg-primary text-center text-white"},"Modificar empleados")],-1),m={class:"col-12"},p={class:"col-12 q-pa-xs col-sm-2"},u={class:"col-12 q-pa-xs col-sm-3"},h={class:"col-12 q-pa-xs col-sm-3"},g={class:"col-12 q-pa-xs col-sm-2"},b={class:"col-12 q-pa-xs col-sm-2"},f={class:"col-12 q-pa-xs col-sm-2"},v={class:"col-12 q-pa-xs col-sm-2"},_={class:"col-12 q-pa-xs col-sm-2 flex flex-center"},x={class:"text-h6"},C={class:"row"},E={class:"col-2"},y={class:"col-2"},w={class:"col-2"},q={class:"col-4"},A={key:0,class:"col-3"},V={class:"col-2 flex flex-center"},D={class:"row"},M={class:"col-12"},W={class:"col-12"},S={class:"col-12"},N={class:"col-12"},T={class:"col-12"},Y={class:"col-12"},F={class:"col-12"},k={class:"col-12"},O={class:"col-12"},$={class:"col-12"},P={class:"row"};(0,t.Cn)();const I=s(((e,a,o,I,R,U)=>{const B=(0,t.up)("q-icon"),L=(0,t.up)("q-input"),z=(0,t.up)("q-badge"),Z=(0,t.up)("q-td"),j=(0,t.up)("q-tooltip"),J=(0,t.up)("q-btn"),H=(0,t.up)("q-table"),Q=(0,t.up)("q-select"),G=(0,t.up)("q-form"),X=(0,t.up)("q-card"),K=(0,t.up)("q-dialog"),ee=(0,t.up)("q-card-section"),ae=(0,t.up)("q-card-actions"),oe=(0,t.up)("q-radio"),te=(0,t.up)("q-page"),le=(0,t.Q2)("close-popup");return(0,t.wg)(),(0,t.j4)(te,{class:"q-pa-xs"},{default:s((()=>[(0,t.Wm)("div",n,[(0,t.Wm)("div",r,[(0,t.Wm)(H,{columns:R.columns,rows:R.empleados,"rows-per-page-options":[0,50,100],filter:R.filter,"wrap-cells":""},{"top-right":s((()=>[(0,t.Wm)(L,{borderless:"",dense:"",outlined:"",debounce:"300",modelValue:R.filter,"onUpdate:modelValue":a[1]||(a[1]=e=>R.filter=e),placeholder:"Search"},{append:s((()=>[(0,t.Wm)(B,{name:"search"})])),_:1},8,["modelValue"])])),"body-cell-tipo":s((e=>[(0,t.Wm)(Z,{props:e,"auto-width":""},{default:s((()=>[(0,t.Wm)(z,{color:"FIJO"==e.row.tipo?"green":"teal"},{default:s((()=>[(0,t.Uk)((0,l.zw)(e.row.tipo),1)])),_:2},1032,["color"])])),_:2},1032,["props"])])),"body-cell-estado":s((e=>[(0,t.Wm)(Z,{props:e,"auto-width":""},{default:s((()=>[(0,t.Wm)(z,{color:"ACTIVO"==e.row.estado?"green":"red",onClick:a=>U.cambioEstado(e.row)},{default:s((()=>[(0,t.Uk)((0,l.zw)(e.row.estado),1)])),_:2},1032,["color","onClick"])])),_:2},1032,["props"])])),"body-cell-action":s((e=>[(0,t.Wm)(Z,{props:e},{default:s((()=>[(0,t.Wm)(J,{color:"info","icon-right":"list","no-caps":"",label:"Sueldos",flat:"",dense:"",onClick:a=>U.pagosval(e.row)},{default:s((()=>[(0,t.Wm)(j,null,{default:s((()=>[d])),_:1})])),_:2},1032,["onClick"])])),_:2},1032,["props"])])),_:1},8,["columns","rows","filter"]),(0,t.Wm)(K,{modelValue:R.modempleado,"onUpdate:modelValue":a[9]||(a[9]=e=>R.modempleado=e)},{default:s((()=>[(0,t.Wm)(X,{style:{"min-width":"350px"}},{default:s((()=>[c,(0,t.Wm)("div",m,[(0,t.Wm)(G,{onSubmit:(0,i.iM)(U.modificar,["prevent"])},{default:s((()=>[(0,t.Wm)("div",p,[(0,t.Wm)(L,{outlined:"",label:"CI",modelValue:R.empleado2.ci,"onUpdate:modelValue":a[2]||(a[2]=e=>R.empleado2.ci=e),required:""},null,8,["modelValue"])]),(0,t.Wm)("div",u,[(0,t.Wm)(L,{outlined:"",label:"Nombre",modelValue:R.empleado2.nombre,"onUpdate:modelValue":a[3]||(a[3]=e=>R.empleado2.nombre=e),required:""},null,8,["modelValue"])]),(0,t.Wm)("div",h,[(0,t.Wm)(Q,{modelValue:R.empleado2.tipo,"onUpdate:modelValue":a[4]||(a[4]=e=>R.empleado2.tipo=e),options:["DESTAJO","FIJO"],label:"Tipo",outlined:""},null,8,["modelValue"])]),(0,t.Wm)("div",g,[(0,t.Wm)(L,{outlined:"",label:"Fecha Nacimiento",type:"date",modelValue:R.empleado2.fechanac,"onUpdate:modelValue":a[5]||(a[5]=e=>R.empleado2.fechanac=e),required:""},null,8,["modelValue"])]),(0,t.Wm)("div",b,[(0,t.Wm)(L,{outlined:"",label:"Fecha Ingreso",type:"date",modelValue:R.empleado2.fechaingreso,"onUpdate:modelValue":a[6]||(a[6]=e=>R.empleado2.fechaingreso=e)},null,8,["modelValue"])]),(0,t.Wm)("div",f,[(0,t.Wm)(L,{outlined:"",label:"Celular",modelValue:R.empleado2.celular,"onUpdate:modelValue":a[7]||(a[7]=e=>R.empleado2.celular=e)},null,8,["modelValue"])]),(0,t.Wm)("div",v,[(0,t.Wm)(L,{outlined:"",label:"Salario",modelValue:R.empleado2.salario,"onUpdate:modelValue":a[8]||(a[8]=e=>R.empleado2.salario=e),type:"number"},null,8,["modelValue"])]),(0,t.Wm)("div",_,[(0,t.Wm)(J,{icon:"edit",label:"MODIFICAR",type:"submit",color:"warning"})])])),_:1},8,["onSubmit"])])])),_:1})])),_:1},8,["modelValue"]),(0,t.Wm)(K,{modelValue:R.pagos,"onUpdate:modelValue":a[16]||(a[16]=e=>R.pagos=e),"full-width":""},{default:s((()=>[(0,t.Wm)(X,null,{default:s((()=>[(0,t.Wm)(ee,null,{default:s((()=>[(0,t.Wm)("div",x,"Historial de "+(0,l.zw)(R.empleado2.nombre),1)])),_:1}),(0,t.Wm)(ae,{align:"right",class:"bg-white text-teal"},{default:s((()=>[(0,t.wy)((0,t.Wm)(J,{flat:"",label:"OK"},null,512),[[le]])])),_:1}),(0,t.Wm)(ee,{class:"q-pt-none"},{default:s((()=>[(0,t.Wm)(G,{onSubmit:(0,i.iM)(U.agregarpago,["prevent"])},{default:s((()=>[(0,t.Wm)("div",C,[(0,t.Wm)("div",E,[(0,t.Wm)(L,{outlined:"",dense:"",label:"Monto",type:"number",step:"0.01",modelValue:R.pago.monto,"onUpdate:modelValue":a[10]||(a[10]=e=>R.pago.monto=e),required:""},null,8,["modelValue"])]),(0,t.Wm)("div",y,[(0,t.Wm)(Q,{outlined:"",dense:"",label:"Tipo",modelValue:R.pago.tipo,"onUpdate:modelValue":a[11]||(a[11]=e=>R.pago.tipo=e),options:["DESCUENTO","ADELANTO","EXTRA"]},null,8,["modelValue"])]),(0,t.Wm)("div",w,[(0,t.Wm)(L,{outlined:"",dense:"",label:"Fecha",modelValue:R.pago.fecha,"onUpdate:modelValue":a[12]||(a[12]=e=>R.pago.fecha=e),type:"date"},null,8,["modelValue"])]),(0,t.Wm)("div",q,[(0,t.Wm)(L,{outlined:"",dense:"",type:"text",label:"observacion",modelValue:R.pago.observacion,"onUpdate:modelValue":a[13]||(a[13]=e=>R.pago.observacion=e)},null,8,["modelValue"])]),1==e.$store.state.login.user.id?((0,t.wg)(),(0,t.j4)("div",A,[(0,t.Wm)(oe,{modelValue:R.checkgasto,"onUpdate:modelValue":a[14]||(a[14]=e=>R.checkgasto=e),val:"GASTO",label:"CAJA GENERAL"},null,8,["modelValue"]),(0,t.Wm)(oe,{modelValue:R.checkgasto,"onUpdate:modelValue":a[15]||(a[15]=e=>R.checkgasto=e),val:"CAJA",label:"CAJA CHICA"},null,8,["modelValue"])])):(0,t.kq)("",!0),(0,t.Wm)("div",V,[(0,t.Wm)(J,{class:"full-with",label:"Agregar",type:"submit",icon:"send",color:"info"})])])])),_:1},8,["onSubmit"]),e.$store.state.login.reportepago?((0,t.wg)(),(0,t.j4)(H,{key:0,title:"Historial de pagos","rows-per-page-options":[0,50,100],columns:R.columns2,rows:R.empleadohistorial},{"body-cell-opcion":s((e=>[(0,t.Wm)(Z,{props:e},{default:s((()=>["ANULADO"!=e.row.tipo?((0,t.wg)(),(0,t.j4)(J,{key:0,color:"negative","icon-right":"delete","no-caps":"",flat:"",dense:"",onClick:a=>U.delsueldo(e.row)},null,8,["onClick"])):(0,t.kq)("",!0),"ANULADO"!=e.row.tipo?((0,t.wg)(),(0,t.j4)(J,{key:1,dense:"",round:"",flat:"",color:"teal",onClick:a=>U.printRow(e),icon:"print"},null,8,["onClick"])):(0,t.kq)("",!0)])),_:2},1032,["props"])])),"body-cell-tipo":s((e=>[(0,t.Wm)(Z,{props:e},{default:s((()=>[(0,t.Wm)(z,{color:"DESCUENTO"==e.row.tipo||"ANULADO"==e.row.tipo?"red":"green","text-color":"white"},{default:s((()=>[(0,t.Uk)((0,l.zw)(e.row.tipo),1)])),_:2},1032,["color"])])),_:2},1032,["props"])])),"body-cell-observacion":s((e=>[(0,t.Wm)(Z,{props:e},{default:s((()=>[(0,t.Wm)(L,{dense:"",outlined:"",modelValue:e.row.observacion,"onUpdate:modelValue":a=>e.row.observacion=a,type:"textarea"},null,8,["modelValue","onUpdate:modelValue"])])),_:2},1032,["props"])])),_:1},8,["columns","rows"])):(0,t.kq)("",!0)])),_:1})])),_:1})])),_:1},8,["modelValue"])])]),(0,t.Wm)(K,{modelValue:R.dialoggenplanilla,"onUpdate:modelValue":a[26]||(a[26]=e=>R.dialoggenplanilla=e)},{default:s((()=>[(0,t.Wm)(X,null,{default:s((()=>[(0,t.Wm)(ee,{class:"text-center text-bold q-pa-none q-ma-none"},{default:s((()=>[(0,t.Uk)("Datos "+(0,l.zw)(R.emp.nombre),1)])),_:1}),(0,t.Wm)(ee,null,{default:s((()=>[(0,t.Wm)(G,{onSubmit:(0,i.iM)(U.creategenplanilla,["prevent"])},{default:s((()=>[(0,t.Wm)("div",D,[(0,t.Wm)("div",M,[(0,t.Wm)(L,{dense:"",outlined:"",label:"fechainicio",modelValue:R.planilla.fechainicio,"onUpdate:modelValue":a[17]||(a[17]=e=>R.planilla.fechainicio=e),disable:""},null,8,["modelValue"])]),(0,t.Wm)("div",W,[(0,t.Wm)(L,{dense:"",outlined:"",label:"fechafin",modelValue:R.planilla.fechafin,"onUpdate:modelValue":a[18]||(a[18]=e=>R.planilla.fechafin=e),disable:""},null,8,["modelValue"])]),(0,t.Wm)("div",S,[(0,t.Wm)(L,{dense:"",outlined:"",label:"fechapago",modelValue:R.planilla.fechapago,"onUpdate:modelValue":a[19]||(a[19]=e=>R.planilla.fechapago=e),disable:""},null,8,["modelValue"])]),(0,t.Wm)("div",N,[(0,t.Wm)(L,{dense:"",outlined:"",label:"Salario",modelValue:R.planilla.monto,"onUpdate:modelValue":[a[20]||(a[20]=e=>R.planilla.monto=e),U.actualizamonto]},null,8,["modelValue","onUpdate:modelValue"])]),(0,t.Wm)("div",T,[(0,t.Wm)(L,{dense:"",outlined:"",label:"adelanto",modelValue:R.planilla.adelanto,"onUpdate:modelValue":a[21]||(a[21]=e=>R.planilla.adelanto=e),disable:""},null,8,["modelValue"])]),(0,t.Wm)("div",Y,[(0,t.Wm)(L,{dense:"",outlined:"",label:"descuento",modelValue:R.planilla.descuento,"onUpdate:modelValue":a[22]||(a[22]=e=>R.planilla.descuento=e),disable:""},null,8,["modelValue"])]),(0,t.Wm)("div",F,[(0,t.Wm)(L,{dense:"",outlined:"",label:"bono",modelValue:R.planilla.bono,"onUpdate:modelValue":a[23]||(a[23]=e=>R.planilla.bono=e),disable:""},null,8,["modelValue"])]),(0,t.Wm)("div",k,[(0,t.Wm)(L,{dense:"",outlined:"",label:"total",modelValue:R.planilla.total,"onUpdate:modelValue":a[24]||(a[24]=e=>R.planilla.total=e),disable:""},null,8,["modelValue"])]),(0,t.Wm)("div",O,[(0,t.Wm)(L,{dense:"",outlined:"",label:"observacion",modelValue:R.planilla.observacion,"onUpdate:modelValue":a[25]||(a[25]=e=>R.planilla.observacion=e)},null,8,["modelValue"])]),(0,t.Wm)("div",$,[R.validarplan?((0,t.wg)(),(0,t.j4)(J,{key:0,class:"full-width\t",type:"submit",color:"primary",icon:"add_circle",label:"crear planilla"})):(0,t.kq)("",!0)])])])),_:1},8,["onSubmit"])])),_:1})])),_:1})])),_:1},8,["modelValue"]),(0,t.Wm)(K,{modelValue:R.dialogver,"onUpdate:modelValue":a[27]||(a[27]=e=>R.dialogver=e)},{default:s((()=>[(0,t.Wm)(X,{style:{width:"800px","max-width":"80vw"}},{default:s((()=>[(0,t.Wm)(ee,{class:"text-center text-bold q-pa-none q-ma-none"},{default:s((()=>[(0,t.Uk)("Datos "+(0,l.zw)(R.emp.nombre),1)])),_:1}),(0,t.Wm)(ee,null,{default:s((()=>[(0,t.Wm)("div",P,[(0,t.Wm)(H,{title:"PLANILLAS",rows:R.planillas,columns:R.colplan,"row-key":"name","rows-per-page-options":[0,50,100]},{"body-cell-opcion":s((e=>[(0,t.Wm)(Z,{props:e},{default:s((()=>["ANULADO"!=e.row.estado?((0,t.wg)(),(0,t.j4)(J,{key:0,dense:"",round:"",flat:"",color:"info",icon:"print",onClick:a=>U.imprimirplanilla(e.row)},null,8,["onClick"])):(0,t.kq)("",!0),"ANULADO"!=e.row.estado?((0,t.wg)(),(0,t.j4)(J,{key:1,color:"negative","icon-right":"delete","no-caps":"",flat:"",dense:"",onClick:a=>U.delplanilla(e.row)},null,8,["onClick"])):(0,t.kq)("",!0)])),_:2},1032,["props"])])),_:1},8,["rows","columns"])])])),_:1})])),_:1})])),_:1},8,["modelValue"])])),_:1})}));var R=o(47345),U=o.n(R),B=o(21082),L=o(47213),z=o(11488),Z=o.n(z);o(23377),o(69755);const j=o(21694),J={name:"EmpleadoSeldos",data(){return{dialoggenplanilla:!1,dialogver:!1,filter:"",pagos:!1,checkgasto:"CAJA",pago:{fecha:B.ZP.formatDate(Date.now(),"YYYY-MM-DD")},empleados:[],emp:{},empleados2:[],empleadohistorial:{},boolcrear:!0,salarios:[],planillas:[],planilla:{},validarplan:!0,modempleado:!1,empleado:{fechanac:"2000-01-01",fechaingreso:B.ZP.formatDate(Date.now(),"YYYY-MM-DD")},empleado2:{},dialog_plan:!1,fecha1:B.ZP.formatDate(Date.now(),"YYYY-MM-DD"),fecha2:B.ZP.formatDate(Date.now(),"YYYY-MM-DD"),montocaja:0,montogeneral:0,columns:[{name:"ci",label:"CI",field:"ci"},{name:"nombre",label:"NOMBRE",field:"nombre",sortable:!0,align:"left"},{name:"fechaingreso",label:"FECHA INGRESO",field:"fechaingreso",sortable:!0,align:"left"},{name:"tipo",label:"TIPO",field:"tipo"},{name:"estado",label:"ESTADO",field:"estado"},{name:"action",label:"OPCION",field:"action"}],columns2:[{name:"opcion",label:"OPCION",field:"opcion"},{name:"fecha",label:"FECHA",field:e=>Z()(e.fecha).format("DD/MM/YYYY"),sortable:!0},{name:"hora",label:"HORA",field:"hora"},{name:"tipo",label:"TIPO",field:"tipo",sortable:!0},{name:"monto",label:"MONTO",field:"monto",sortable:!0},{name:"user",label:"USUARIO",field:e=>e.user.name,sortable:!0},{name:"observacion",label:"observacion",field:"observacion"}],columns3:[{name:"nombre",label:"Empleado",field:"nombre"},{name:"salario",label:"Sueldo",field:"salario"},{name:"adelanto",label:"Adelanto",field:"adelanto"},{name:"descuento",label:"Descuento",field:"descuento"},{name:"extra",label:"Extra",field:"extra"},{name:"pago",label:"Pago",field:"pago"},{name:"cancelar",label:"Cancelar",field:"cancelar"},{name:"opcion",label:"opcion",field:"opcion"}],colplan:[{name:"opcion",label:"opcion",field:"opcion"},{name:"Fecha",label:"Fecha In",field:e=>Z()(e.fechainicio).format("DD/MM/YYYY")},{name:"Fecha",label:"Fecha Fin",field:e=>Z()(e.fechafin).format("DD/MM/YYYY")},{name:"Fecha",label:"Fecha pago",field:e=>Z()(e.fechapago).format("DD/MM/YYYY")},{name:"salario",label:"Sueldo",field:"monto"},{name:"adelanto",label:"Adelanto",field:"adelanto"},{name:"descuento",label:"Descuento",field:"descuento"},{name:"extra",label:"Extra",field:"bono"},{name:"pago",label:"Pago",field:"total"}]}},mounted(){U()("#example").DataTable({language:{processing:"Procesando...",lengthMenu:"Mostrar _MENU_ registros",zeroRecords:"No se encontraron resultados",emptyTable:"Ningún dato disponible en esta tabla",infoEmpty:"Mostrando registros del 0 al 0 de un total de 0 registros",infoFiltered:"(filtrado de un total de _MAX_ registros)",search:"Buscar:",infoThousands:",",loadingRecords:"Cargando...",paginate:{first:"Primero",last:"Último",next:"Siguiente",previous:"Anterior"},aria:{sortAscending:": Activar para ordenar la columna de manera ascendente",sortDescending:": Activar para ordenar la columna de manera descendente"},buttons:{copy:"Copiar",colvis:"Visibilidad",collection:"Colección",colvisRestore:"Restaurar visibilidad",copyKeys:"Presione ctrl o u2318 + C para copiar los datos de la tabla al portapapeles del sistema. <br /> <br /> Para cancelar, haga clic en este mensaje o presione escape.",copySuccess:{1:"Copiada 1 fila al portapapeles",_:"Copiadas %ds fila al portapapeles"},copyTitle:"Copiar al portapapeles",csv:"CSV",excel:"Excel",pageLength:{"-1":"Mostrar todas las filas",_:"Mostrar %d filas"},pdf:"PDF",print:"Imprimir",renameState:"Cambiar nombre",updateState:"Actualizar",createState:"Crear Estado",removeAllStates:"Remover Estados",removeState:"Remover",savedStates:"Estados Guardados",stateRestore:"Estado %d"},autoFill:{cancel:"Cancelar",fill:"Rellene todas las celdas con <i>%d</i>",fillHorizontal:"Rellenar celdas horizontalmente",fillVertical:"Rellenar celdas verticalmentemente"},decimal:",",searchBuilder:{add:"Añadir condición",button:{0:"Constructor de búsqueda",_:"Constructor de búsqueda (%d)"},clearAll:"Borrar todo",condition:"Condición",conditions:{date:{after:"Despues",before:"Antes",between:"Entre",empty:"Vacío",equals:"Igual a",notBetween:"No entre",notEmpty:"No Vacio",not:"Diferente de"},number:{between:"Entre",empty:"Vacio",equals:"Igual a",gt:"Mayor a",gte:"Mayor o igual a",lt:"Menor que",lte:"Menor o igual que",notBetween:"No entre",notEmpty:"No vacío",not:"Diferente de"},string:{contains:"Contiene",empty:"Vacío",endsWith:"Termina en",equals:"Igual a",notEmpty:"No Vacio",startsWith:"Empieza con",not:"Diferente de",notContains:"No Contiene",notStarts:"No empieza con",notEnds:"No termina con"},array:{not:"Diferente de",equals:"Igual",empty:"Vacío",contains:"Contiene",notEmpty:"No Vacío",without:"Sin"}},data:"Data",deleteTitle:"Eliminar regla de filtrado",leftTitle:"Criterios anulados",logicAnd:"Y",logicOr:"O",rightTitle:"Criterios de sangría",title:{0:"Constructor de búsqueda",_:"Constructor de búsqueda (%d)"},value:"Valor"},searchPanes:{clearMessage:"Borrar todo",collapse:{0:"Paneles de búsqueda",_:"Paneles de búsqueda (%d)"},count:"{total}",countFiltered:"{shown} ({total})",emptyPanes:"Sin paneles de búsqueda",loadMessage:"Cargando paneles de búsqueda",title:"Filtros Activos - %d",showMessage:"Mostrar Todo",collapseMessage:"Colapsar Todo"},select:{cells:{1:"1 celda seleccionada",_:"%d celdas seleccionadas"},columns:{1:"1 columna seleccionada",_:"%d columnas seleccionadas"},rows:{1:"1 fila seleccionada",_:"%d filas seleccionadas"}},thousands:".",datetime:{previous:"Anterior",next:"Proximo",hours:"Horas",minutes:"Minutos",seconds:"Segundos",unknown:"-",amPm:["AM","PM"],months:{0:"Enero",1:"Febrero",10:"Noviembre",11:"Diciembre",2:"Marzo",3:"Abril",4:"Mayo",5:"Junio",6:"Julio",7:"Agosto",8:"Septiembre",9:"Octubre"},weekdays:["Dom","Lun","Mar","Mie","Jue","Vie","Sab"]},editor:{close:"Cerrar",create:{button:"Nuevo",title:"Crear Nuevo Registro",submit:"Crear"},edit:{button:"Editar",title:"Editar Registro",submit:"Actualizar"},remove:{button:"Eliminar",title:"Eliminar Registro",submit:"Eliminar",confirm:{_:"¿Está seguro que desea eliminar %d filas?",1:"¿Está seguro que desea eliminar 1 fila?"}},error:{system:'Ha ocurrido un error en el sistema (<a target="\\" rel="\\ nofollow" href="\\">Más información&lt;\\/a&gt;).</a>'},multi:{title:"Múltiples Valores",info:"Los elementos seleccionados contienen diferentes valores para este registro. Para editar y establecer todos los elementos de este registro con el mismo valor, hacer click o tap aquí, de lo contrario conservarán sus valores individuales.",restore:"Deshacer Cambios",noMulti:"Este registro puede ser editado individualmente, pero no como parte de un grupo."}},info:"Mostrando _START_ a _END_ de _TOTAL_ registros",stateRestore:{creationModal:{button:"Crear",name:"Nombre:",order:"Clasificación",paging:"Paginación",search:"Busqueda",select:"Seleccionar",columns:{search:"Búsqueda de Columna",visible:"Visibilidad de Columna"},title:"Crear Nuevo Estado",toggleLabel:"Incluir:"},emptyError:"El nombre no puede estar vacio",removeConfirm:"¿Seguro que quiere eliminar este %s?",removeError:"Error al eliminar el registro",removeJoiner:"y",removeSubmit:"Eliminar",renameButton:"Cambiar Nombre",renameLabel:"Nuevo nombre para %s",duplicateError:"Ya existe un Estado con este nombre.",emptyStates:"No hay Estados guardados",removeTitle:"Remover Estado",renameTitle:"Cambiar Nombre Estado"}},dom:"Blfrtip",buttons:["excel","pdf"],lengthMenu:[[-1,50,100],["All",50,100]]}),this.missalarios(),this.misempleados(),this.totalgeneral()},methods:{cambioEstado(e){this.$axios.post("https://bnaty.siscenter.org/api/estadoEmpleado",e).then((e=>{this.missalarios(),this.misempleados()}))},printRow(e){this.$axios.get("https://bnaty.siscenter.org/api/impade/"+e.row.id).then((e=>{let a=window.open("","Imprimir","width=1000,height=1000");a.document.write(e.data),a.document.close(),a.print(),a.close()}))},delplanilla(e){console.log(e),this.$q.dialog({title:"Seguro de eliminar?",cancel:!0}).onOk((()=>{this.$q.loading.show(),this.$axios.delete("https://bnaty.siscenter.org/api/planilla/"+e.id).then((e=>{this.$q.notify({message:"Eliminado",icon:"info",color:"green"}),this.dialogver=!1,this.misempleados()})).catch((e=>{this.$q.loading.hide(),this.$q.notify({message:e.response.data.message,icon:"error",color:"red"})}))}))},delsueldo(e){this.$q.dialog({title:"Confirmar",message:"Ingrese el motivo por el cual esta eliminando?",prompt:{model:"",type:"text"},cancel:!0,persistent:!1}).onOk((a=>{this.$q.loading.show(),this.$axios.delete("https://bnaty.siscenter.org/api/sueldo/"+e.id,{params:{motivo:a}}).then((e=>{this.$q.notify({message:"Anulado",icon:"info",color:"green"}),this.pagos=!1,this.pagosval(this.empleado2),this.misempleados(),this.$q.loading.hide()}))})).onOk((()=>{})).onCancel((()=>{})).onDismiss((()=>{}))},genplanilla(e){this.dialoggenplanilla=!0,this.emp=e,this.planilla.fechainicio=this.fecha1,this.planilla.fechafin=this.fecha2,this.planilla.fechapago=B.ZP.formatDate(Date.now(),"YYYY-MM-DD"),this.planilla.monto=null==e.salario?0:e.salario,this.planilla.adelanto=null==e.adelanto?0:e.adelanto,this.planilla.descuento=null==e.descuento?0:e.descuento,this.planilla.bono=null==e.extra?0:e.extra,this.planilla.total=this.totalmonto,this.planilla.empleado_id=e.id,this.planilla.restante=0,this.$axios.post("https://bnaty.siscenter.org/api/valplanilla",this.planilla).then((e=>{e.data.length>0?this.validarplan=!1:this.validarplan=!0}))},actualizamonto(){this.planilla.total=this.totalmonto},creategenplanilla(){return this.checkgasto="GASTO","GASTO"==this.checkgasto&&this.planilla.total>this.montogeneral?(this.$q.notify({message:"El monto excede en General ",icon:"info",color:"red"}),!1):"CAJA"==this.checkgasto&&this.planilla.total>this.montocajachica?(this.$q.notify({message:"El monto excede en Caja Chica ",icon:"info",color:"red"}),!1):(this.$q.loading.show(),this.planilla.tpago=this.checkgasto,void this.$axios.post("https://bnaty.siscenter.org/api/planilla",this.planilla).then((e=>{this.$q.loading.hide(),this.$q.notify({message:"Planilla Creada",icon:"info",color:"green"}),this.imprimirplanilla(this.planilla),this.dialoggenplanilla=!1,this.planilla={},this.misempleados(),this.totalgeneral()})))},imprimirplanilla(e){function a(){var a=new Image;a.src="logo.png",o.addImage(a,"png",5,2,37,17),o.setFont(void 0,"bold"),o.setFontSize(8),o.text(170,5,"fecha de proceso: "+B.ZP.formatDate(Date.now(),"DD-MM-YYYY")),o.setFontSize(11),o.text("CHICHERIA DOÑA NATI",110,7,"center"),o.text("BOLETA DE PAGO",110,12,"center"),o.text("Correspondiente  "+Z()(e.fechainicio).format("DD/MM/YYYY")+" Al "+Z()(e.fechafin).format("DD/MM/YYYY"),100,17,"center"),o.text(" Fecha de pago: "+(null==e.fechapago||void 0==e.fechapago||""==e.fechapago?"Sn":Z()(e.fechapago).format("DD/MM/YYYY")),170,17,"left"),o.line(5,20,210,20),o.setFont(void 0,"normal")}var o=new L.kH("p",void 0,"letter");o.setFont("Times"),a(),o.setFontSize(10),o.setFont(void 0,"bold"),o.text(["CI:","Nombre:"],10,25),o.setFont(void 0,"normal"),o.text([this.emp.ci,this.emp.nombre],65,25,"center"),o.setFont(void 0,"bold"),o.text(["Tipo:"],130,25),o.setFont(void 0,"normal");var t=Z()(this.emp.fechanac),l=Z()();l.diff(t,"years");o.text([this.emp.tipo],170,25,"center"),o.line(5,35,210,35),o.setFont(void 0,"bold"),o.text("INGRESOS",45,39,"center"),o.text("DESCUENTOS",150,39,"center"),o.line(5,40,210,40),o.line(110,40,110,70),o.setFont(void 0,"bold"),o.text(["Salario:"],15,45),o.setFont(void 0,"normal"),o.text([e.monto+" Bs"],105,45,"right"),o.setFont(void 0,"bold"),o.text(["Adelanto:","Descuento:"],115,45),o.setFont(void 0,"normal"),o.text([e.adelanto+" Bs",e.descuento+" Bs"],205,45,"right"),o.line(5,65,210,65),o.setFont(void 0,"bold"),o.text("Total ganado:",35,69,"center"),o.text("Total descuento:",140,69,"center"),o.setFont(void 0,"normal"),o.text(parseInt(e.monto)+" Bs",105,69,"right"),o.text(parseInt(e.descuento)+parseInt(e.adelanto)+" Bs",205,69,"right"),o.line(5,70,210,70),o.setFont(void 0,"bold"),o.setFontSize(14),o.text("Liquido pagable: "+e.total+" Bs",110,75,"center"),o.setFontSize(9);let i=j.conversorNumerosALetras,s=new i,n=s.convertToText(parseInt(e.total));o.setFont(void 0,"normal"),o.text("SON: "+n.toUpperCase()+" Bs",110,80,"center"),o.setFont(void 0,"bold"),""!=e.observacion&&null!=e.observacion&&(o.setFont(void 0,"bold"),o.text("Obs: ",2,85,"left"),o.setFont(void 0,"normal"),o.text(e.observacion.substring(0,95),10,85,"left"),o.text(e.observacion.substring(95,95),10,90,"left"),o.text(e.observacion.substring(190,95),10,90,"left"),o.setFont(void 0,"bold")),o.text(5,100,"____________________________                                                                   ______________________________"),o.text(10,105,"FIRMA EMPLEADO"),o.text(150,105,"FIRMA RESPONSABLE"),window.open(o.output("bloburl"),"_blank")},cancelar(e){let a=0;null==e.adelanto&&(e.adelanto=0),null==e.descuento&&(e.descuento=0),null==e.extra&&(e.extra=0),null==e.pago&&(e.pago=0),null==e.obs&&(e.obs=""),a=e.salario-e.adelanto-e.descuento+e.pago,this.$axios.post("https://bnaty.siscenter.org/api/cancelacion",{monto:a,fecha:this.fecha2,empleado_id:e.id,empleado_nombre:e.nombre}).then((e=>{this.missalarios(),this.$q.notify({message:"Registro correctamente",icon:"info",color:"positive"})}))},imprimirboleta(e){let a=0;null==e.adelanto&&(e.adelanto=0),null==e.descuento&&(e.descuento=0),null==e.extra&&(e.extra=0),null==e.pago&&(e.pago=0),null==e.obs&&(e.obs=""),a=e.salario-e.adelanto-e.descuento+e.pago;let o="<div><img class='fondo' src='logo.png' style='height:20px'> Chicheria Doña Naty <span>"+Z()().format("DD/MM/YYYY")+"</span></div><br>";o+="<div style='text-align:center'>BOLETA DE PAGO "+B.ZP.formatDate(this.fecha1,"YYYY-MM")+"</div><hr>",o+="<div>Nombre: "+e.nombre+"</div><div>Salario Basico: "+e.salario+"</div>",o+="<div>CI: "+e.ci+"</div><div>Celular: "+e.celular+"</div><hr>",o+="<table style='width:100%'><thead><tr><th>INGRESOS</th><th>DESCUENTOS</th></tr></thead>",o+="<tbody><tr><td>Salario Basico:"+e.salario+"</td><td>Descuentos: "+e.descuento+"</td></tr>",o+="<tr><td>Extra:"+e.extra+"</td><td>Adelanto: "+e.adelanto+"</td></tr>",o+="<tr><td>Pago:"+e.pago+"</td><td> </td></tr>",o+="</tbody></table><hr>",o+="<div style='text-align:right'>Liquido Pagable: "+a+"</div>",o+="<div> "+e.obs+"</div>",o+="<br><br><div style='text-align:center; with:100%'>FIRMA</div>";let t=window.open("","Imprimir","width=1000,height=1000");t.document.write(o),t.document.close(),t.focus(),setTimeout((function(){t.print(),t.close()}),500)},imprimir(){let e=this;function a(){var a=new Image;a.src="logo.png",o.addImage(a,"jpg",.5,.5,2,2),o.setFont(void 0,"bold"),o.text(5,1,"Historial de prestmos Sueldos pagos Adelantos"),o.text(5,1.5,"DE "+e.fecha1),o.text(1,3,"Empleado"),o.text(7,3,"Sueldo"),o.text(9,3,"Extra"),o.text(11,3,"Adelanto"),o.text(13,3,"Descuento"),o.text(16,3,"Pago"),o.text(19,3,"Cancelar"),o.setFont(void 0,"normal")}var o=new L.kH("p","cm","letter");o.setFont("courier"),o.setFontSize(9),a();let t=0,l=0;this.salarios.forEach((e=>{let i=null==e.extra?0:e.extra,s=null==e.adelanto?0:e.adelanto,n=null==e.descuento?0:e.descuento,r=null==e.pago?0:e.pago,d=e.salario-s-n+r;t+=.5,o.text(1,t+3,""+e.nombre),o.text(7,t+3,""+e.salario),o.text(9,t+3,""+i),o.text(11,t+3,""+s),o.text(13,t+3,""+n),o.text(16,t+3,""+r),o.text(19,t+3,""+d),l+=d,t+3>25&&(o.addPage(),a(),t=0)})),t+=.5,o.text(11,t+3,"TOTAL"),o.text(14,t+3,""+l),window.open(o.output("bloburl"),"_blank")},missalarios(){this.$q.loading.show(),this.$axios.post("https://bnaty.siscenter.org/api/missueldos",{fecha1:this.fecha1,fecha2:this.fecha2}).then((e=>{this.salarios=e.data,U()("#example").DataTable().destroy(),this.$nextTick((()=>{U()("#example").DataTable({language:{processing:"Procesando...",lengthMenu:"Mostrar _MENU_ registros",zeroRecords:"No se encontraron resultados",emptyTable:"Ningún dato disponible en esta tabla",infoEmpty:"Mostrando registros del 0 al 0 de un total de 0 registros",infoFiltered:"(filtrado de un total de _MAX_ registros)",search:"Buscar:",infoThousands:",",loadingRecords:"Cargando...",paginate:{first:"Primero",last:"Último",next:"Siguiente",previous:"Anterior"},aria:{sortAscending:": Activar para ordenar la columna de manera ascendente",sortDescending:": Activar para ordenar la columna de manera descendente"},buttons:{copy:"Copiar",colvis:"Visibilidad",collection:"Colección",colvisRestore:"Restaurar visibilidad",copyKeys:"Presione ctrl o u2318 + C para copiar los datos de la tabla al portapapeles del sistema. <br /> <br /> Para cancelar, haga clic en este mensaje o presione escape.",copySuccess:{1:"Copiada 1 fila al portapapeles",_:"Copiadas %ds fila al portapapeles"},copyTitle:"Copiar al portapapeles",csv:"CSV",excel:"Excel",pageLength:{"-1":"Mostrar todas las filas",_:"Mostrar %d filas"},pdf:"PDF",print:"Imprimir",renameState:"Cambiar nombre",updateState:"Actualizar",createState:"Crear Estado",removeAllStates:"Remover Estados",removeState:"Remover",savedStates:"Estados Guardados",stateRestore:"Estado %d"},autoFill:{cancel:"Cancelar",fill:"Rellene todas las celdas con <i>%d</i>",fillHorizontal:"Rellenar celdas horizontalmente",fillVertical:"Rellenar celdas verticalmentemente"},decimal:",",searchBuilder:{add:"Añadir condición",button:{0:"Constructor de búsqueda",_:"Constructor de búsqueda (%d)"},clearAll:"Borrar todo",condition:"Condición",conditions:{date:{after:"Despues",before:"Antes",between:"Entre",empty:"Vacío",equals:"Igual a",notBetween:"No entre",notEmpty:"No Vacio",not:"Diferente de"},number:{between:"Entre",empty:"Vacio",equals:"Igual a",gt:"Mayor a",gte:"Mayor o igual a",lt:"Menor que",lte:"Menor o igual que",notBetween:"No entre",notEmpty:"No vacío",not:"Diferente de"},string:{contains:"Contiene",empty:"Vacío",endsWith:"Termina en",equals:"Igual a",notEmpty:"No Vacio",startsWith:"Empieza con",not:"Diferente de",notContains:"No Contiene",notStarts:"No empieza con",notEnds:"No termina con"},array:{not:"Diferente de",equals:"Igual",empty:"Vacío",contains:"Contiene",notEmpty:"No Vacío",without:"Sin"}},data:"Data",deleteTitle:"Eliminar regla de filtrado",leftTitle:"Criterios anulados",logicAnd:"Y",logicOr:"O",rightTitle:"Criterios de sangría",title:{0:"Constructor de búsqueda",_:"Constructor de búsqueda (%d)"},value:"Valor"},searchPanes:{clearMessage:"Borrar todo",collapse:{0:"Paneles de búsqueda",_:"Paneles de búsqueda (%d)"},count:"{total}",countFiltered:"{shown} ({total})",emptyPanes:"Sin paneles de búsqueda",loadMessage:"Cargando paneles de búsqueda",title:"Filtros Activos - %d",showMessage:"Mostrar Todo",collapseMessage:"Colapsar Todo"},select:{cells:{1:"1 celda seleccionada",_:"%d celdas seleccionadas"},columns:{1:"1 columna seleccionada",_:"%d columnas seleccionadas"},rows:{1:"1 fila seleccionada",_:"%d filas seleccionadas"}},thousands:".",datetime:{previous:"Anterior",next:"Proximo",hours:"Horas",minutes:"Minutos",seconds:"Segundos",unknown:"-",amPm:["AM","PM"],months:{0:"Enero",1:"Febrero",10:"Noviembre",11:"Diciembre",2:"Marzo",3:"Abril",4:"Mayo",5:"Junio",6:"Julio",7:"Agosto",8:"Septiembre",9:"Octubre"},weekdays:["Dom","Lun","Mar","Mie","Jue","Vie","Sab"]},editor:{close:"Cerrar",create:{button:"Nuevo",title:"Crear Nuevo Registro",submit:"Crear"},edit:{button:"Editar",title:"Editar Registro",submit:"Actualizar"},remove:{button:"Eliminar",title:"Eliminar Registro",submit:"Eliminar",confirm:{_:"¿Está seguro que desea eliminar %d filas?",1:"¿Está seguro que desea eliminar 1 fila?"}},error:{system:'Ha ocurrido un error en el sistema (<a target="\\" rel="\\ nofollow" href="\\">Más información&lt;\\/a&gt;).</a>'},multi:{title:"Múltiples Valores",info:"Los elementos seleccionados contienen diferentes valores para este registro. Para editar y establecer todos los elementos de este registro con el mismo valor, hacer click o tap aquí, de lo contrario conservarán sus valores individuales.",restore:"Deshacer Cambios",noMulti:"Este registro puede ser editado individualmente, pero no como parte de un grupo."}},info:"Mostrando _START_ a _END_ de _TOTAL_ registros",stateRestore:{creationModal:{button:"Crear",name:"Nombre:",order:"Clasificación",paging:"Paginación",search:"Busqueda",select:"Seleccionar",columns:{search:"Búsqueda de Columna",visible:"Visibilidad de Columna"},title:"Crear Nuevo Estado",toggleLabel:"Incluir:"},emptyError:"El nombre no puede estar vacio",removeConfirm:"¿Seguro que quiere eliminar este %s?",removeError:"Error al eliminar el registro",removeJoiner:"y",removeSubmit:"Eliminar",renameButton:"Cambiar Nombre",renameLabel:"Nuevo nombre para %s",duplicateError:"Ya existe un Estado con este nombre.",emptyStates:"No hay Estados guardados",removeTitle:"Remover Estado",renameTitle:"Cambiar Nombre Estado"}},dom:"Blfrtip",ordering:!1,buttons:["excel","pdf"],lengthMenu:[[-1,50,100],["All",50,100]]})})),this.$q.loading.hide()})).catch((e=>{this.$q.loading.hide(),this.$q.notify({color:"red",icon:"error",message:e.response.data.message})}))},totalcaja(){this.$axios.post("https://bnaty.siscenter.org/api/totalcaja").then((e=>{this.montocajachica=e.data.monto}))},totalgeneral(){this.$axios.post("https://bnaty.siscenter.org/api/totalgeneral").then((e=>{console.log(e.data.monto),this.montogeneral=parseFloat(e.data.monto)}))},agregarpago(){return console.log(this.empleadohistorial),"FIJO"==this.empleado2.tipo&&parseFloat(this.empleado2.salario)-this.totaldescuento<parseFloat(this.pago.monto)&&("ADELANTO"==this.pago.tipo||"DESCUENTO"==this.pago.tipo)?(this.$q.notify({message:"El monto excede al salario ",icon:"info",color:"red"}),!1):"GASTO"==this.checkgasto&&("ADELANTO"==this.pago.tipo||"EXTRA"==this.pago.tipo)&&this.pago.monto>this.montogeneral?(this.$q.notify({message:"El monto excede en General ",icon:"info",color:"red"}),!1):"CAJA"==this.checkgasto&&("ADELANTO"==this.pago.tipo||"EXTRA"==this.pago.tipo)&&this.pago.monto>this.montocajachica?(this.$q.notify({message:"El monto excede en Caja Chica ",icon:"info",color:"red"}),!1):(this.pago.empleado_id=this.empleado2.id,this.pago.empleado_nombre=this.empleado2.nombre,this.pago.checkbox=this.checkgasto,this.$q.loading.show(),void this.$axios.post("https://bnaty.siscenter.org/api/sueldo",this.pago).then((e=>{this.pago={fecha:B.ZP.formatDate(Date.now(),"YYYY-MM-DD")},this.totalgeneral(),this.totalcaja(),this.pagosval(this.empleado2),this.checkgasto="CAJA",this.$q.loading.hide();let a=window.open("","Imprimir","width=1000,height=1000");a.document.write(e.data),a.document.close(),a.print(),a.close(),this.pagos=!1})))},misempleados(){this.$q.loading.show(),this.$axios.get("https://bnaty.siscenter.org/api/empleado").then((e=>{this.$q.loading.hide(),this.empleados=e.data}))},valplanilla(){},modificar(){this.$axios.put("https://bnaty.siscenter.org/api/empleado/"+this.empleado2.id,this.empleado2).then((e=>{this.misempleados(),this.boolcrear=!0,this.empleado2=[],this.modempleado=!1,this.$q.notify({message:"Modificado correctamente",icon:"info",color:"positive"})}))},agregar(){this.$q.loading.show(),this.$axios.post("https://bnaty.siscenter.org/api/empleado",this.empleado).then((e=>{this.$q.loading.hide(),this.misempleados(),this.empleado={fechanac:"2000-01-01"},this.$q.notify({message:"Creado correctamente",icon:"info",color:"positive"})}))},guardar(){if(0==this.detalles.length)return this.$q.notify({message:"Tienes que tener un detalle de ventas",color:"red",icon:"error"}),!1;this.$q.loading.show(),this.$axios.post("https://bnaty.siscenter.org/api/venta",{total:this.total,acuenta:this.acuenta,saldo:this.saldo,estado:this.estado,cliente_id:this.cliente.id,detalles:this.detalles}).then((e=>{this.$q.notify({message:"Venta exitosa",color:"green",icon:"info"}),this.misventas()}))},deleteval(e){this.$q.dialog({title:"Seguro de eliminar?",cancel:!0}).onOk((()=>{this.$q.loading.show(),this.$axios.delete("https://bnaty.siscenter.org/api/empleado/"+e.id).then((e=>{this.$q.loading.hide(),this.misempleados(),this.$q.notify({message:"Borrado correctamente",icon:"info",color:"positive"})})).catch((e=>{this.$q.loading.hide(),this.$q.notify({message:e.response.data.message,icon:"error",color:"red"})}))}))},verplanilla(e){this.emp=e,this.planillas=this.emp.planillas,this.dialogver=!0},updateval(e){this.empleado2=e,this.modempleado=!0},pagosval(e){this.$q.loading.show(),this.empleado2=e,this.$axios.get("https://bnaty.siscenter.org/api/empleado/"+e.id).then((e=>{console.log(e.data),this.empleadohistorial=e.data,this.$q.loading.hide(),this.pagos=!0}))}},computed:{totalmonto(){let e=0;return e=parseFloat(this.planilla.monto)-parseFloat(null==this.planilla.adelanto?0:this.planilla.adelanto)-parseFloat(null==this.planilla.descuento?0:this.planilla.descuento),e},totaldescuento(){let e=0;return this.empleadohistorial.forEach((a=>{B.ZP.formatDate(a.fecha,"YYYY-MM")==B.ZP.formatDate(this.pago.fecha,"YYYY-MM")&&("ADELANTO"!=a.tipo&&"DESCUENTO"!=a.tipo||(e+=parseFloat(a.monto)))})),e}}};var H=o(24379),Q=o(55242),G=o(34842),X=o(24554),K=o(83884),ee=o(69721),ae=o(2165),oe=o(5363),te=o(46778),le=o(10151),ie=o(68689),se=o(63314),ne=o(25589),re=o(99367),de=o(77991),ce=o(60677),me=o(7518),pe=o.n(me);J.render=I,J.__scopeId="data-v-a4099da8";const ue=J;pe()(J,"components",{QPage:H.Z,QTable:Q.Z,QInput:G.Z,QIcon:X.Z,QTd:K.Z,QBadge:ee.Z,QBtn:ae.Z,QTooltip:oe.Z,QDialog:te.Z,QCard:le.Z,QForm:ie.Z,QSelect:se.Z,QCardSection:ne.Z,QCardActions:re.Z,QRadio:de.Z}),pe()(J,"directives",{ClosePopup:ce.Z})}}]);